% CB - 5
\pgfplotstableread[row sep=\\,col sep=&]{
dataset & input & output \\
LoCoMo    & 979666 & 11204 \\
HotpotQA  & 9358497 & 35014 \\
2Wiki     & 16909346 & 58019 \\
MuSiQue   & 3220550 & 9451 \\
}\cbfvdata

% CB - 10
\pgfplotstableread[row sep=\\,col sep=&]{
dataset & input & output \\
LoCoMo    & 1510823 & 11999 \\
HotpotQA  & 14403404 & 36624 \\
2Wiki     & 25988094 & 61663 \\
MuSiQue   & 4860893 & 9743 \\
}\cbtendata

% CB - 20
\pgfplotstableread[row sep=\\,col sep=&]{
dataset & input & output \\
LoCoMo    & 2552188 & 12519 \\
HotpotQA  & 24645699 & 37857 \\
2Wiki     & 43569717 & 64789 \\
MuSiQue   & 8084285 & 10553 \\
}\cbttydata

% CB - 100
\pgfplotstableread[row sep=\\,col sep=&]{
dataset & input & output \\
LoCoMo    & 10398239 & 24754 \\
HotpotQA  & 108742008 & 43919 \\
2Wiki     & 0 & 0 \\
MuSiQue   & 34028256 & 12224 \\
}\cbhddata

\pgfplotstableread[row sep=\\,col sep=&]{
method & LoCoMo & HotpotQA & TwoWiki & MuSiQue \\
5  & 990870    & 9393511   & 16967365  & 3230001 \\
10 & 1522822   & 14440028  & 26049757  & 4870636 \\
20 & 2564707   & 24683556  & 43634506  & 8094838 \\
100& 10422993  & 108785927 & 0 & 34040480 \\
}\sumdata

\begin{figure}[h]
\centering
\begin{tikzpicture}[
    every axis/.style={
        ybar,
        bar width=.5cm,
        width=0.18\textwidth,
        height=0.3\textwidth,
        axis line style={draw=none},
        tick label style={font=\scriptsize},
        label style={font=\scriptsize},
        nodes near coords,
        nodes near coords align={vertical},
        every node near coord/.append style={
            text=black,
            font=\tiny,
            rotate=90,
            anchor=west,
        },
        ymin=0,
        grid=major,
        scale only axis,
        xticklabel style={font=\tiny},
        yticklabel style={font=\tiny},
        xlabel={\tiny Retrieved Docs},
        title style={font=\scriptsize, yshift=12pt},
    }
]

% LoCoMo subplot (with y axis label)
\begin{axis}[
    at={(0\textwidth,0)},
    anchor=south west,
    symbolic x coords={5,10,20,100},
    xtick=data,
    ymax=12000000,
    ylabel={Total $token$ consumption},
    title={LoCoMo},
    yticklabels={},
    ytick style={draw=none},
    ylabel style={yshift=-24pt},
]
\addplot+[
    fill={rgb,255:red,130; green,130; blue,180}, draw=none,
] table[x=method,y expr=\thisrow{LoCoMo}]{\sumdata};
\end{axis}

% HotPotQA subplot (no ylabel)
\begin{axis}[
    at={(0.21\textwidth,0)},
    anchor=south west,
    symbolic x coords={5,10,20,100},
    xtick=data,
    ymax=120000000,
    title={HotpotQA},
    title style={font=\scriptsize},
    yticklabels={},
    ytick style={draw=none},
]
\addplot+[
    fill={rgb,255:red,100; green,190; blue,130}, draw=none,
] table[x=method,y expr=\thisrow{HotpotQA}]{\sumdata};
\end{axis}

% TwoWiki subplot (no ylabel)
\begin{axis}[
    at={(0.42\textwidth,0)},
    anchor=south west,
    symbolic x coords={5,10,20,100},
    xtick=data,
    ymax=200000000,
    title={TwoWiki},
    yticklabels={},
    ytick style={draw=none},
]
\addplot+[
    fill={rgb,255:red,230; green,140; blue,70}, draw=none,
] table[x=method,y expr=\thisrow{TwoWiki}]{\sumdata};
\end{axis}

% MuSiQue subplot (no ylabel)
\begin{axis}[
    at={(0.63\textwidth,0)},
    anchor=south west,
    symbolic x coords={5,10,20,100},
    xtick=data,
    ymax=40000000,
    title={MuSiQue},
    yticklabels={},
    ytick style={draw=none},
]
\addplot+[
    fill={rgb,255:red,173; green,216; blue,230}, draw=none,
] table[x=method,y expr=\thisrow{MuSiQue}]{\sumdata};
\end{axis}

\end{tikzpicture}
\caption{Total $Token$ usage of QWen2.5-14B with distinct amount of retrieved documents using ColBERTV2.}
\label{fig:qa_cost_qwen}
\end{figure}
