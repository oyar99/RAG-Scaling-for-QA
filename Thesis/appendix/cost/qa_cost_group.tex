% ZS
\pgfplotstableread[row sep=\\,col sep=&]{
dataset & input & output \\
LoCoMo    & 21550801 & 83177 \\
HotpotQA  & 104737714 & 176315 \\
2Wiki     & 177746436 & 361535 \\
MuSiQue   & 34267520 & 53997 \\
}\zsdata

% CB - 5
\pgfplotstableread[row sep=\\,col sep=&]{
dataset & input & output \\
LoCoMo    & 916359 & 11168 \\
HotpotQA  & 5406415 & 30227 \\
2Wiki     & 10045983 & 49262 \\
MuSiQue   & 1863317 & 9072 \\
}\cbfvdata

% CB - 10
\pgfplotstableread[row sep=\\,col sep=&]{
dataset & input & output \\
LoCoMo    & 1402807 & 11369 \\
HotpotQA  & 10118040 & 31260 \\
2Wiki     & 18424139 & 51062 \\
MuSiQue   & 3461050 & 9557 \\
}\cbtendata

% CB - 20
\pgfplotstableread[row sep=\\,col sep=&]{
dataset & input & output \\
LoCoMo    & 2354848 & 11892 \\
HotpotQA  & 19684186 & 32281 \\
2Wiki     & 34630206 & 53459 \\
MuSiQue   & 6477501 & 9554 \\
}\cbttydata

% CB - 100
\pgfplotstableread[row sep=\\,col sep=&]{
dataset & input & output \\
LoCoMo    & 9491602 & 12756 \\
HotpotQA  & 98203634 & 34680 \\
2Wiki     & 173622051 & 55316 \\
MuSiQue   & 30743225 & 10912 \\
}\cbhddata

\pgfplotstableread[row sep=\\,col sep=&]{
method & LoCoMo & HotpotQA & TwoWiki & MuSiQue \\
5  & 927527    & 5436642   & 10095245  & 1872389 \\
10 & 1414176   & 10149300  & 18475201  & 3470607 \\
20 & 2363740   & 19716467  & 34683665  & 6487055 \\
100& 9504358   & 98238314  & 173677367 & 30754137 \\
all& 21633978  & 104914029 & 178107971 & 34321517 \\
}\sumdata

\begin{figure}[h]
\centering
\begin{tikzpicture}[
    every axis/.style={
        ybar,
        bar width=.35cm,
        width=0.18\textwidth,
        height=0.3\textwidth,
        axis line style={draw=none},
        tick label style={font=\scriptsize},
        label style={font=\scriptsize},
        nodes near coords,
        nodes near coords align={vertical},
        every node near coord/.append style={
            text=black,
            font=\tiny,
            rotate=90,
            anchor=west,
        },
        ymin=0,
        grid=major,
        scale only axis,
        xticklabel style={font=\tiny},
        yticklabel style={font=\tiny},
        xlabel={\tiny Retrieved Docs},
        title style={font=\scriptsize, yshift=12pt},
    }
]

% LoCoMo subplot (with y axis label)
\begin{axis}[
    at={(0\textwidth,0)},
    anchor=south west,
    symbolic x coords={5,10,20,100,all},
    xtick=data,
    ymax=25000000,
    ylabel={Total $token$ consumption},
    title={LoCoMo},
    yticklabels={},
    ytick style={draw=none},
    ylabel style={yshift=-24pt},
]
\addplot+[
    fill={rgb,255:red,130; green,130; blue,180}, draw=none,
] table[x=method,y expr=\thisrow{LoCoMo}]{\sumdata};
\end{axis}

% HotPotQA subplot (no ylabel)
\begin{axis}[
    at={(0.21\textwidth,0)},
    anchor=south west,
    symbolic x coords={5,10,20,100,all},
    xtick=data,
    ymax=120000000,
    title={HotpotQA},
    title style={font=\scriptsize},
    yticklabels={},
    ytick style={draw=none},
]
\addplot+[
    fill={rgb,255:red,100; green,190; blue,130}, draw=none,
] table[x=method,y expr=\thisrow{HotpotQA}]{\sumdata};
\end{axis}

% TwoWiki subplot (no ylabel)
\begin{axis}[
    at={(0.42\textwidth,0)},
    anchor=south west,
    symbolic x coords={5,10,20,100,all},
    xtick=data,
    ymax=200000000,
    title={TwoWiki},
    yticklabels={},
    ytick style={draw=none},
]
\addplot+[
    fill={rgb,255:red,230; green,140; blue,70}, draw=none,
] table[x=method,y expr=\thisrow{TwoWiki}]{\sumdata};
\end{axis}

% MuSiQue subplot (no ylabel)
\begin{axis}[
    at={(0.63\textwidth,0)},
    anchor=south west,
    symbolic x coords={5,10,20,100,all},
    xtick=data,
    ymax=40000000,
    title={MuSiQue},
    yticklabels={},
    ytick style={draw=none},
]
\addplot+[
    fill={rgb,255:red,173; green,216; blue,230}, draw=none,
] table[x=method,y expr=\thisrow{MuSiQue}]{\sumdata};
\end{axis}

\end{tikzpicture}
\caption{Total $Token$ usage of GPT-4o-mini with distinct amount of retrieved documents using ColBERTV2.}
\label{fig:qa_cost}
\end{figure}
